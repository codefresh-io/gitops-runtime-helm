suite: cf-argocd-extras tests
templates:
  - sources-server.yaml
  - event-reporter.yaml
  - charts/cf-argocd-extras/*
tests:
  - it: New Event-Reporter should be deployed with forked ArgoCD
    template: event-reporter.yaml
    values:
      - ./values/mandatory-values-ingress.yaml
    asserts:
      - containsDocument:
          kind: StatefulSet
          apiVersion: apps/v1
          name: event-reporter

#  - it: New Event-Reporter should be deployed with external OSS ArgoCD
#    template: event-reporter.yaml
#    documentSelector:
#      path: kind
#      value: StatefulSet
#    values:
#      - ./values/mandatory-values-ingress.yaml
#      - ./values/external-argocd-values.yaml
#    asserts:
#      - containsDocument:
#          kind: StatefulSet
#          apiVersion: apps/v1
#          name: event-reporter
